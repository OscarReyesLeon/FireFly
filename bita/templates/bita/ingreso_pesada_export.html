<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <title>Ingresos Inidades en FireFly</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/css/bootstrap.css">
	<link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css">
	<link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.5.2/css/buttons.bootstrap4.min.css">
	<link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.bootstrap4.min.css">
</head>
<body>
    {% if not obj %}
    <div class="alert alert-info">No hay ingresos registrados</div>
    {% endif %}
    <table id="export" class="table table-striped table-bordered dt-responsive nowrap" style="width:100%">
      <thead>
        <th>ID</th>
        <th>Estado</th>
        <th>Ingreso</th>
        <th>Lugar</th>
        <th>Unidad</th>
        <th>Salida</th>
        <th>U-Modificacion</th>
        <th>Registrante</th>
      	<th>U-Modificante</th>
        <th>Operador</th>
        <th>Motivo</th>
        <th>Comentarios</th>
      </thead>
      <tbody>
        {% for item in obj%}
        <tr>
          <td>{{item.id}}</td>
          <td>{{item.estado|yesno:"En Sitio,Salida"}}</td>
          <td>{{item.fc}}</td>
          <td>{{item.ubicacion}}</td>
          <td>{{item.vehiculo}}</td>
          <td>{{item.fsalida}}</td>
          <td>{{item.fm}}</td>
          <td>{{item.uc}}</td>
      	  <td>{{item.um}}</td>
          <td>{{item.operador}}</td> 
          <td>{{item.motivo}}</td>
          <td>{{item.comentarios}}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.5.2/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.bootstrap4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.print.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.colVis.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.3/js/responsive.bootstrap4.min.js"></script>
    <script>
      $(document).ready(function() {
          var table = $('#export').DataTable( {
              "rowCallback": function(row, data, index){
              if(data[1]== 'En Sitio'){
              $(row).find('td:eq(1  )').css('color', 'red');
              }
              if(data[1]== 'En Sitio'){
              $(row).find('td:eq(2)').css('color', 'red');
              }
              if(data[1]== 'En Sitio'){
              $(row).find('td:eq(3)').css('color', 'red');
              }
              if(data[1]== 'En Sitio'){
              $(row).find('td:eq(4)').css('color', 'red');
              }
              if(data[1]== 'En Sitio'){
              $(row).find('td:eq(5)').css('color', 'red');
              }
              if(data[1]== 'En Sitio'){
              $(row).find('td:eq(9)').css('color', 'red');
              }
              if(data[1]== 'En Sitio'){
              $(row).find('td:eq(10)').css('color', 'red');
              }
            },
              "order": [[ 1, 'asc' ],[ 0, 'desc' ]],
              lengthChange: false,
              buttons: [ 'copy', 'excel', 'csv', 'pdf', 'colvis' ]
          } );
       
          table.buttons().container()
              .appendTo( '#export_wrapper .col-md-6:eq(0)' );
          } );
          
         </script>
</body>
</html>
