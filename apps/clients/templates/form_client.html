{% extends 'layouts/partial/form_base.html' %}
{% load static %}
{% block extraForm %}
<address-component :address_array="address" title_table="Direcciones del cliente"></address-component>

<table-component :array_data=credit_array :initial_data=initialCredit text_button_add="Agregar crédito"
    :headers_table="['Descripción', 'Monto', 'Fecha limite']" title_table="Créditos del cliente">
    <template #body_table>
        <tr v-for="(credit_current, index) in credit_array">
            <td style="width: 50%;">
                <textarea class="form-control" cols="30" rows="3" v-model="credit_current.description"
                    required></textarea>
            </td>
            <td>
                <input type="number" @keyup="only_number_input" class="form-control" v-model="credit_current.amount"
                    required>
            </td>
            <td>
                <input type="date" class="form-control" v-model="credit_current.limit_date" required>
            </td>
            <td>
                <a type="button" class="btn btn-danger text-white"
                    @click="credit_array.splice(index,1)">Eliminar</button>
            </td>
        </tr>
    </template>
</table-component>
{% endblock %}

{% block jsForm %}
<script src="{% static 'base/vue/components/table_component.js' %}"></script>
<script src="{% static 'base/vue/components/address_component.js' %}"></script>
<script src="{% static 'js/client/client_form.js' %}"></script>
{% endblock %}